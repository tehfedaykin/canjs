<!DOCTYPE html>
<!--####################################################################
	THIS IS A GENERATED FILE — ANY CHANGES MADE WILL BE OVERWRITTEN

	INSTEAD CHANGE:
	source: docs/can-guides/upgrade/using-codemods.md
	@page guides/upgrade/using-codemods
######################################################################## -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CanJS - Using Codemods</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	
		<link rel="stylesheet" type="text/css" href="../../static/bundles/bit-docs-site/static.css">
		<link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64" href="/docs/images/canjs_favicon.ico">
		<link rel="apple-touch-icon" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../docs/images/canjs_favicon_57x57.png">
		<link rel="apple-touch-icon" sizes="72x72" href="../../../docs/images/canjs_favicon_72x72.png">
		<link rel="apple-touch-icon" sizes="114x114" href="../../../docs/images/canjs_favicon_114x114.png">
		<link rel="apple-touch-icon" sizes="120x120" href="../../../docs/images/canjs_favicon_128x128.png">
		<link rel="apple-touch-icon" sizes="144x144" href="../../../docs/images/canjs_favicon_144x144.png">
		<link rel="apple-touch-icon" sizes="152x152" href="../../../docs/images/canjs_favicon_152x152.png">
		<meta content="yes" name="apple-mobile-web-app-capable">
	  	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
	
	
		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
				m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-2302003-11', 'auto');
			ga('send', 'pageview');
		</script>
	
</head>
	<body>
		<input type="checkbox" id="nav-trigger" class="nav-trigger"/>
		<label for="nav-trigger">Menu</label>
	  	<div id="everything">
  <div id="left" class="column">
    <div class="top-left">
      
          <div class="brand">
	<div class="logo">
		<a href="../../../index.html" alt="CanJS"></a>
		<div class="dropdown project-dropdown">
			<a href="https://donejs.com/">DoneJS</a>
			<a href="https://stealjs.com/">StealJS</a>
			<a href="https://jquerypp.com/">jQuery++</a>
			<a href="https://funcunit.com/">FuncUnit</a>
			<a href="https://documentjs.com/">DocumentJS</a>
		</div>
	</div>
	<div class="version">
		<div class="version-number">
			5.21.6
		</div>
		<div class="dropdown version-dropdown">
			
				<a href="https://v4.canjs.com">4.3.0</a>
			
				<a href="https://v3.canjs.com">3.13.1</a>
			
				<a href="https://v2.canjs.com">2.3.35</a>
			
		</div>
	</div>
</div>
<div class="search-bar">
	<div class="search-wrap" style="display:none;">
		<span class="search-icon"></span>
		<input
			type="text"
			size="6"
			class="search"
			placeholder="Search"
			autocomplete="off"
			autocorrect="off"
			autocapitalize="none"
			spellcheck="false"/>
			<span class="search-icon-cancel"></span>
	</div>
</div>


      
    </div>
    <div class="bottom">
      <div class="nav-menu">
        <div class="social-side-container">
          <ul class="social-side">
  <li>
    <a class="header-mobile github" href="https://github.com/canjs/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/github.png">Github</a>
  </li>
  <li>
    <a class="header-mobile twitter" href="https://twitter.com/canjs" target="_blank"><img class="social-icon-small" src="../../../docs/images/twitter.png">Twitter</a>
  </li>
</ul>
<ul class="social-side">
  <li>
    <a class="header-mobile" href="https://gitter.im/canjs/canjs" target="_blank">Chat</a>
  </li>
  <li>
    <a class="header-mobile" href="http://forums.donejs.com/c/canjs" target="_blank">Forum</a>
  </li>
</ul>

        </div>
        
            
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../about.html"
							title="Learn about CanJS’s mission, technical highlights, who uses CanJS, and our future roadmap.">
							About
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						parent
           						expanded">
						<a class="page"
							href="../../guides.html"
							title="Welcome to CanJS! These guides are here to help you master CanJS development, get involved with the CanJS community,
and contribute back to CanJS.">
							Guides
						</a>
						
	<ul>
		
			
				
					<li>
						<span>essentials</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../setup.html"
							title="Learn how to install CanJS in your environment.">
							Setting Up CanJS
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../technology-overview.html"
							title="Learn the basics of CanJS’s technology.">
							Technology Overview
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../html.html"
							title="Learn how to update HTML and listen to user interactions.">
							HTML
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../routing.html"
							title="Learn how to make your application respond to changes in the URL and work with the browser’s back and forward buttons.">
							Routing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../data.html"
							title="Learn how to get, create, update, and delete backend service layer data.">
							Service Layer
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../debugging.html"
							title="Learn how to debug CanJS applications.">
							Debugging
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../forms.html"
							title="Learn how to create amazing &lt;form&gt;s with CanJS.">
							Forms
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../testing.html"
							title="Learn how to test CanJS applications.">
							Testing
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../logic.html"
							title="Learn how to write observables in an organized, maintainable, and testable way.">
							Logic
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../data-extreme.html"
							title="learn how to work with can-connect">
							Data
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>app guides</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../chat.html"
							title="This guide will walk you through building a real-time chat application with CanJS’s Core libraries.  It takes about 30 minutes to complete.">
							Chat Guide
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../todomvc.html"
							title="This guide will walk you through building a slightly modified version of TodoMVC with CanJS’s Core libraries and can-fixture. It takes about 1 hour to complete.">
							TodoMVC Guide
						</a>
						

					</li>
				
			
		
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						parent
           						">
						<a class="page"
							href="../recipes.html"
							title="A listing of small examples that are useful for learning CanJS.">
							recipes
						</a>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/canvas-clock.html"
							title="This guide walks you through building a clock with the Canvas API.">
							Canvas Clock (Simple)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/credit-card-advanced.html"
							title="This guide walks through building a simple credit card payment form with validations. It doesn’t use
can-define. Instead it uses Kefir.js streams to make a ViewModel.
can-kefir is used to make the Kefir streams observable to can-stache.">
							Credit Card Guide (Advanced)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/credit-card-simple.html"
							title="This guide walks through building a very simple credit card payment form.  It uses Stripe.js v2 API to create a token
which can be used to create a charge.  It also performs
simple validation on the payment form values.">
							Credit Card Guide (Simple)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/cta-bus-map.html"
							title="This guide walks you through showing Chicago Transit Authority (CTA) bus locations on a Google Map.">
							CTA Bus Map (Medium)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/file-navigator-advanced.html"
							title="This guide walks you through building a file navigation widget that requests data with fetch. It takes about 45 minutes to complete.">
							File Navigator Guide (Advanced)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/file-navigator-simple.html"
							title="This guide walks you through building a simple file navigation widget.  It takes about 25 minutes to complete.  It was written with
CanJS 3.10. Check out the file-navigator-advanced
for an example that makes AJAX requests for its data and uses can-component.">
							File Navigator Guide (Simple)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/modals.html"
							title="This guide shows how to create a multiple modal form.">
							Multiple Modals (Medium)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/playlist-editor.html"
							title="Learn how to use YouTube’s API to search for videos and make a playlist.  This makes authenticated requests with OAuth2. It uses jQuery++ for
drag/drop events. It shows using custom attributes and custom events.  This guide takes
an hour to complete.">
							Playlist Editor (Advanced)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/search-list-details.html"
							title="This guide walks through building a Search, List, Details flow with lazy-loaded routes.">
							Search, List, Details (Advanced)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/signup-simple.html"
							title="This guide walks through building simple signup, login forms and a logout button.">
							Signup and Login (Simple)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/text-editor.html"
							title="This guide walks you through building a basic rich text editor.">
							Text Editor (Medium)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/tinder-carousel.html"
							title="This guide walks you through building a Tinder-like carousel. Learn how to build apps that use dragging user interactions.">
							Tinder Carousel (Medium)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/todomvc-with-steal.html"
							title="This tutorial walks through building TodoMVC with StealJS. It includes KeyNote presentations
covering CanJS core libraries.">
							TodoMVC with StealJS
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/video-player.html"
							title="This guide walks you through building custom video controls around a video element.">
							Video Player (Simple)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/weather-report-advanced.html"
							title="This guides you through extending the Simple Weather Report Guide to remove imperative code and automatically look up the user’s location using the
browser’s geolocation API.  Both of these will be done with event streams.
This guide continues where the Simple Weather Report Guide left off.  It takes about 25 minutes to complete.  It was written with CanJS 4.1.">
							Weather Report Guide (Advanced)
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../recipes/weather-report-simple.html"
							title="This guide walks you through building a simple weather report widget.  It takes about 25 minutes to complete.  It was written with
CanJS 4.1.">
							Weather Report Guide (Simple)
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>upgrade</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-3.html"
							title="This guide walks you through the step-by-step process to upgrade a 2.x app to CanJS 3.">
							Migrating to CanJS 3
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-4.html"
							title="This guide walks you through the step-by-step process to upgrade a 3.x app to CanJS 4.">
							Migrating to CanJS 4
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../migrate-5.html"
							title="This guide walks you through the process to upgrade a 4.x app to CanJS 5.x.">
							Migrating to CanJS 5
						</a>
						

					</li>
				
			
		
			
				
					<li class="current
           						
           						expanded">
						<a class="page"
							href="using-codemods.html"
							title="Learn how to migrate your app to CanJS 3 using can-migrate.">
							Using Codemods
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li>
						<span>other</span>
						
	<ul>
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../api.html"
							title="This page walks through how to use and understand CanJS’s API documentation.">
							Reading the Docs (API Guide)
						</a>
						

					</li>
				
			
		
	</ul>


					</li>
				
			
		
	</ul>


					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../api.html"
							title="Welcome to the CanJS API documentation! This page is a CHEAT-SHEET for the most common APIs within CanJS. Read the
technology-overview page for background on the following APIs.">
							API Docs
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../../community.html"
							title="Get involved with one of the most inviting communities on the internet!">
							Community
						</a>
						

					</li>
				
			
		
			
				
					<li class="
           						
           						">
						<a class="page"
							href="../contribute.html"
							title="Learn how to contribute to CanJS!">
							Contributing
						</a>
						

					</li>
				
			
		
	</ul>


        
      </div>
      <div class="search-results-container">
	<div class="search-results-wrap"></div>
</div>

    </div>
  </div>
  <div id="right" class="column">
    <div class="top-right">
      <div class="top-right-top">
	<ul class="top-right-bitovi">
	  	<li class="dropdown">
	    	<a href="https://www.bitovi.com" class="bitovi icon-bits">Bitovi</a>
	    	<ul class="dropdown-menu">
	      		<li><a href="https://www.bitovi.com/">Bitovi.com</a></li>
	      		<li><a href="https://www.bitovi.com/blog">Blog</a></li>
	      		<li><a href="https://www.bitovi.com/design">Design</a></li>
	      		<li><a href="https://www.bitovi.com/development">Development</a></li>
	      		<li><a href="https://www.bitovi.com/training">Training</a></li>
	      		<li><a href="https://www.bitovi.com/open-source">Open Source</a></li>
	      		<li><a href="https://www.bitovi.com/about">About</a></li>
	      		<li><a href="https://www.bitovi.com/contact">Contact Us</a></li>
	    	</ul>
	  	</li>
	</ul>
	<div class="brand">
		<div class="logo">
			<a href="../../../index.html" alt="CanJS"></a>
		</div>
	</div>
	<ul class="top-right-links">
  <li>
    <a href="https://gitter.im/canjs/canjs">Chat</a>
  </li>
  <li>
    <a href="http://forums.donejs.com/c/canjs">Forum</a>
  </li>
  <li>
    <a class="github-button nav-social" href="https://github.com/canjs/canjs" data-count-href="/canjs/canjs/stargazers" data-show-count="true">Star</a>
  </li>
  <li>
    <a href="https://twitter.com/canjs" class="twitter-follow-button nav-social" data-show-count="true" data-show-screen-name="false">Follow @canjs</a><script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </li>
</ul>
</div>
<div class="breadcrumb">
	
		<li><a href="../../../index.html">CanJS</a></li>
		<li> / </li>
	
		<li><a href="../../guides.html">Guides</a></li>
		<li> / </li>
	
	
	<li><a href="using-codemods.html">Using Codemods</a></li>
	
	<li class="breadcrumb-dropdown-separator"> / </li>
	<li class="breadcrumb-dropdown breadcrumb-on-this-page">
		<a> On this page</a>
		<ul class="on-this-page"></ul>
	</li>
	<div class="nav-toggle" title="Back to top"></div>
</div>


    </div>
    <div class="bottom">
      <article>
  <section class="title">
	<div class="page-type">
		<h1>Using Codemods</h1>
			<ul class="title-social">
				
				
				<li>
					<a class="button-link" href="//github.com/canjs/canjs/edit/master/docs/can-guides/upgrade/using-codemods.md">Edit on GitHub</a>
				</li>
				
			</ul>
	</div>
	<div class="clear-both"></div>
	
  
	<section class="description">
    <p>Learn how to migrate your app to CanJS 3 using <a href="https://www.npmjs.com/package/can-migrate">can-migrate</a>.</p>

</section>

  
	
</section>
<section class="on-this-page-table">
	<!--<h2 class="on-this-page-title" data-skip>Page Content</h2>-->
</section>










  
    <section class="body">
    <h2>Overview</h2>
<p>A codemod is a transformation script that parses the <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">AST</a>
of source code in order to do a code-aware find-and-replace refactor across
multiple files. <a href="https://www.npmjs.com/package/can-migrate">can-migrate</a>
is a CLI utility for running codemods that can help migrate your app to CanJS 3.</p>
<p>For example, the following CanJS 3.0 code:</p>
<pre><code class="language-js">import DefineMap from &quot;can-define/map/map&quot;;
import route from &quot;can-route&quot;;
import &quot;can-stache/helpers/route&quot;;

const VM = DefineMap.extend({
    page: {
        value: &quot;home&quot;
    }
});

route.register(&quot;:page&quot;, { page: &quot;home&quot; });
route.ready();
</code></pre>
<p>…can be transformed to this:</p>
<pre><code class="language-js">import DefineMap from &quot;can-define/map/map&quot;;
import route from &quot;can-route&quot;;
import &quot;can-stache-route-helpers&quot;;

const VM = DefineMap.extend({
    page: {
        default: &quot;home&quot;
    }
});

route.register(&quot;{page}&quot;, { page: &quot;home&quot; });
route.start();
</code></pre>
<div line-highlight='3,7,11,12'></div>
<p>Using this CLI will get you about 85% of the way to having your codebase
migrated; it’s not a complete solution for a seamless migration, but it will get
you significantly closer than doing the migration by hand.</p>
<blockquote>
<p>For information on using codemods to upgrade from CanJS 2.3 to CanJS 3.0, check out <a href="https://v3.canjs.com/doc/guides/upgrade/using-codemods.html" title="v3.canjs.com">v3.canjs.com</a>.</p>
</blockquote>
<h2>Install</h2>
<p>Install <code>can-migrate</code> from npm:</p>
<pre><code class="language-shell">npm install -g can-migrate@2
</code></pre>
<p>This will make the <code>can-migrate</code> command available globally.</p>
<h2>Usage</h2>
<p>The CLI provides the following options:</p>
<pre><code>Usage
$ can-migrate [&lt;file|glob&gt; ...]

Updates files according to the CanJS 3.0 or CanJS 4.0 migration paths (minimal, modern, future)
More info for v3.0: http://canjs.github.io/canjs/doc/migrate-3.html#Modernizedmigrationpath
More info for v4.0: http://canjs.github.io/canjs/doc/migrate-4.html

Options
--apply     -a    Apply transforms (instead of a dry run)
--force           Apply transforms regardless of git status
--silent    -s    Silence output
--config    -c    Path to custom config file
--transform -t    Specify a transform
--can-version     Specify CanJS version to upgrade to
</code></pre>
<h3>Example</h3>
<p>Runs all the <code>can-migrate</code> transforms for upgrading to CanJS 4.0 on the files that match the <code>**/*.js</code> glob:</p>
<pre><code class="language-bash">can-migrate '**/*.js' --can-version 4 --apply
</code></pre>
<p>Runs the <code>can-stache/route-helpers</code> transform on the files that match the <code>**/*.js</code> glob:</p>
<pre><code class="language-bash">can-migrate '**/*.js' --transform can-stache/route-helpers.js --apply
</code></pre>
<p>You can find a <a href="https://github.com/canjs/can-migrate/tree/master/src/transforms/version-4">complete list of version-4 transforms on GitHub</a>.</p>
<h2>List of CanJS 4 Transform Scripts</h2>
<h3>can-define</h3>
<p>To run <a href="https://github.com/canjs/can-migrate/tree/master/src/transforms/version-4/can-define">all of the version-4/can-define transforms</a> listed below:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-define/ -a
</code></pre>
<h4>default</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-define/default.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-js">import DefineMap from &quot;can-define/map/map&quot;;

const VM = DefineMap.extend({
    name: {
        value: &quot;Justin&quot;
    }
});
</code></pre>
<div line-highlight='5'></div>
<p>…to this:</p>
<pre><code class="language-js">import DefineMap from &quot;can-define/map/map&quot;;

const VM = DefineMap.extend({
    name: {
        default: &quot;Justin&quot;
    }
});
</code></pre>
<div line-highlight='5'></div>
<h4>for-each</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-define/for-each.js -a
</code></pre>
<p>…will transform code like this:</p>
<pre><code class="language-js">import DefineMap from 'can-define/map/map';

const VM = DefineMap.extend({
    first: {
        default: 'Kevin'
    },
    last: {
        default: 'McCallister'
    },
    uppercaseAll: function() {
        this.each((value, prop) =&gt; {
            this[prop] = value.toUpperCase();
        });
    }
});
</code></pre>
<div line-highlight='11'></div>
<p>…to this:</p>
<pre><code class="language-js">import DefineMap from 'can-define/map/map';

const VM = DefineMap.extend({
    first: {
        default: 'Kevin'
    },
    last: {
        default: 'McCallister'
    },
    uppercaseAll: function() {
        this.forEach((value, prop) =&gt; {
            this[prop] = value.toUpperCase();
        });
    }
});
</code></pre>
<div line-highlight='11'></div>
<h3>can-queues</h3>
<p>To run <a href="https://github.com/canjs/can-migrate/tree/master/src/transforms/version-4/can-queues">all of the version-4/can-queues transforms</a> listed below:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-queues/ -a
</code></pre>
<h4>batch</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-queues/batch.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-js">import canBatch from &quot;can-event/batch/batch&quot;;

canBatch.start();
this.first = &quot;Matthew&quot;;
this.last = &quot;Phillips&quot;;
canBatch.stop();
</code></pre>
<div line-highlight='1,3,6'></div>
<p>…to this:</p>
<pre><code class="language-js">import queues from &quot;can-queues&quot;;

queues.batch.start();
this.first = &quot;Matthew&quot;;
this.last = &quot;Phillips&quot;;
queues.batch.stop();
</code></pre>
<div line-highlight='1,3,6'></div>
<h3>can-route</h3>
<p>To run <a href="https://github.com/canjs/can-migrate/tree/master/src/transforms/version-4/can-route">all of the version-4/can-route transforms</a> listed below:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-route/ -a
</code></pre>
<h4>template</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-route/template.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-js">can.route(&quot;:page&quot;, { page: &quot;home&quot; });
</code></pre>
<p>…to this:</p>
<pre><code class="language-js">can.route(&quot;{page}&quot;, { page: &quot;home&quot; });
</code></pre>
<h4>register</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-route/register.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-js">can.route(&quot;{page}&quot;, { page: &quot;home&quot; });
</code></pre>
<p>…to this:</p>
<pre><code class="language-js">can.route.register(&quot;{page}&quot;, { page: &quot;home&quot; });
</code></pre>
<h4>start</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-route/start.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-js">can.route.ready();
</code></pre>
<p>…to this:</p>
<pre><code class="language-js">can.route.start();
</code></pre>
<h3>can-stache</h3>
<p>To run <a href="https://github.com/canjs/can-migrate/tree/master/src/transforms/version-4/can-stache">all of the version-4/can-stache transforms</a> listed below:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-stache/ -a
</code></pre>
<h4>attr-from</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-stache/attr-from.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-html">&lt;input type=&quot;checkbox&quot; checked&gt;
&lt;my-element
    prop3=&quot;something&quot;
    on:click=&quot;setFoo()&quot;
    prop4:from=&quot;foo&quot;
    prop5:to=&quot;bar&quot;
    prop5:bind=&quot;baz&quot;
&gt;&lt;/my-element&gt;
&lt;a href=&quot;{{routeUrl page='away'}}&quot;&gt;Away&lt;/a&gt;
</code></pre>
<div line-highlight='3'></div>
<p>…to this:</p>
<pre><code class="language-html">&lt;input type=&quot;checkbox&quot; checked&gt;
&lt;my-element
    prop3:from='&quot;something&quot;'
    on:click=&quot;setFoo()&quot;
    prop4:from=&quot;foo&quot;
    prop5:to=&quot;bar&quot;
    prop5:bind=&quot;baz&quot;
&gt;&lt;/my-element&gt;
&lt;a href=&quot;{{routeUrl page='away'}}&quot;&gt;Away&lt;/a&gt;
</code></pre>
<div line-highlight='3'></div>
<h4>console-log</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-stache/console-log.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-html">{{log}}
</code></pre>
<p>…to this:</p>
<pre><code class="language-html">{{console.log(this)}}
</code></pre>
<h4>route-helpers</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-stache/route-helpers.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-js">const routeHelpers = require('can-stache/helpers/route');
</code></pre>
<p>…to this:</p>
<pre><code class="language-js">const routeHelpers = require('can-stache-route-helpers');
</code></pre>
<p>...and this...</p>
<pre><code class="language-html">&lt;can-import from=&quot;can-stache/helpers/route&quot; /&gt;
</code></pre>
<p>…to this:</p>
<pre><code class="language-html">&lt;can-import from=&quot;can-stache-route-helpers&quot; /&gt;
</code></pre>
<h4>scope</h4>
<p>Running this transform:</p>
<pre><code class="language-bash">can-migrate '**/*.js' -t version-4/can-stache/scope.js -a
</code></pre>
<p>…will transform the following:</p>
<pre><code class="language-html">&lt;p&gt;
  {{%index}}
  {{%key}}
  {{%element}}
  {{%event}}
  {{%viewModel}}
  {{%arguments}}
&lt;/p&gt;
</code></pre>
<div line-highlight='2-7'></div>
<p>…to this:</p>
<pre><code class="language-html">&lt;p&gt;
  {{scope.index}}
  {{scope.key}}
  {{scope.element}}
  {{scope.event}}
  {{scope.viewModel}}
  {{scope.arguments}}
&lt;/p&gt;
</code></pre>
<div line-highlight='2-7'></div>

</section>

  


<script type="text/javascript">
  window.docObject = {"src":{"path":"docs/can-guides/upgrade/using-codemods.md"},"description":"Learn how to migrate your app to CanJS 3 using [can-migrate](https://www.npmjs.com/package/can-migrate). \n","name":"guides/upgrade/using-codemods","title":"Using Codemods","type":"page","parent":"guides/upgrade","order":3,"comment":" ","pathToRoot":"../../.."};
</script>
</article>
      
        <footer><p>CanJS is part of <a href="https://donejs.com" target="_blank">DoneJS</a>. Created and maintained by the core <a href="https://donejs.com/About.html#team" target="_blank">DoneJS team</a> and <a href="https://www.bitovi.com" target="_blank">Bitovi</a>. <strong>Currently 5.21.6.</strong></p>
</footer>
      
    </div>
  </div>
</div>
<survey-ad>
  <button aria-label="Close" class="close" type="button">
    <span aria-hidden="true">&times;</span>
  </button>
  <a href="https://donejs.com/survey.html" target="_blank">
    Help us improve CanJS by taking our community survey
  </a>
</survey-ad>


		
			<script>
				steal = {
				  	instantiated: {
				    	"bundles/bit-docs-site/static.css!$css" : null
				  	}
			  	};
			</script>
			<script type='text/javascript' data-main="bit-docs-site/static" src="../../static/steal.production.js"></script>
		
		<script async defer src="https://buttons.github.io/buttons.js"></script>

		<!-- root-level elements with attributes necessary for the app -->
		<div path-prefix="../.."></div>

	</body>
</html>
